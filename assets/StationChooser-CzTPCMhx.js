import{f as B,u as C,r as D,c as h,w as n,a as s,o as c,h as k,d as l,j as M,k as w,F as T,e as $,i as o,n as E}from"./index-DAUaz_Ma.js";const R={__name:"StationChooser",setup(F){const b=o("nearbyStations"),d=o("selectedStartStation"),r=o("selectedDestinationStation"),p=o("busStationsMap"),m=o("metroBusStationsMap");B();const a=C(),S=D(!0),_=()=>{a.push({name:"main"})},v=f=>{const e=f.data.i;if(d.value===null)a.push(`/timetable/${e}`);else if(r.value===null){console.log("path finding mode");let t;if(p.has(e))t=p.get(e);else if(m.has(e))t=m.get(e);else{console.error(`${e} station not found in the busStationsMap and metroBusStationsMap`);return}if(!t){console.error("targetStation is null");return}r.value=t,a.push(`/path/${d.value.i}/${r.value.i}`)}else a.push(`/timetable/${e}`)};return(f,e)=>{const t=s("Column"),g=s("Tag"),y=s("DataTable"),x=s("Drawer");return c(),h(x,{visible:S.value,"onUpdate:visible":e[0]||(e[0]=i=>S.value=i),onHide:_,style:{"background-color":"#1E232B"}},{header:n(()=>[k(" Nearby Stations ")]),default:n(()=>[l(y,{value:$(b),selectionMode:"single",scrollable:"",scrollHeight:"flex",onRowSelect:v,style:{"background-color":"#1E232B"}},{default:n(()=>[l(t,{field:"n",header:"Station"}),l(t,{field:"s",header:"Street"}),l(t,null,{body:n(i=>[(c(!0),M(T,null,w(i.data.busses,u=>(c(),h(g,{rounded:!0,value:u.n,style:E({minWidth:"40px",maxWidth:"40px",userSelect:"none",fontFamily:"TheLedDisplaySt",backgroundColor:u.c,color:u.tc})},null,8,["value","style"]))),256))]),_:1})]),_:1},8,["value"])]),_:1},8,["visible"])}}};export{R as default};
